#!/usr/bin/env bash 

# set -eou pipefail
set -ou pipefail

WORKDIR=/Users/raphael/
DEST=/Volumes/Backup/tbd/

cd $WORKDIR 

brew bundle dump
get_bookmarks > bookmarks.txt
get_browser_history > browser_history.txt

Directories=(
'.config'
'.zshrc'
'Brewfile'
'bookmarks.txt'
'browser_history.txt'
'bitcoin-rpc-cookie'
'Desktop'
'Documents'
'backups'
'bin'
'notes'
'src'
)

# for complete synchronization add --delete option
COMMAND="rsync -azP" 

for dir in "${Directories[@]}"; do
  $COMMAND $@ $WORKDIR$dir $DEST
done

