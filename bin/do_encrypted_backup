#!/usr/bin/env bash

# 1. open Veracrypt first and select the VeraCryptContainer in /Volumes/Backup
# 2. Decrypt with password
# 3. Run this script
# 4. for complete synchronization add --delete option
# 5. Dismount in veracrypt app

set -ou pipefail
# -e: exit immediately if non-zero exit code
# -o: catches unset variables
# -u pipefail: any error of any command will be seen 

WORKDIR=/Users/raphael/
DEST=/Volumes/encrypted/macbook/
COMMAND="rsync -azP" 
Directories=(
'.dotfiles'
'.electrum'
'.gitconfig'
'.gnupg'
'.sparrow'
'.ssh'
'.yggdrasil.conf'
)

for dir in "${Directories[@]}"; do
  $COMMAND $@ $WORKDIR$dir $DEST
done

